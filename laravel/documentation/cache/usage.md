# 缓存的用法

## 目录

- [存入项](#put)
- [取出项](#get)
- [删除项](#forget)

<a name="put"></a>
## 存入项

在缓存中存入数据很简单, 直接在 Cache 类上调用 **put** 方法就行了:

	Cache::put('name', 'Taylor', 10);

第一个参数是缓存项的 **名称** , 你需要使用该名称来从缓存中取出对应项, 第二个参数是 缓存项的 **值** , 第三个参数是你希望该项被缓存的 **分钟** 数.

你也可以 "永久" 缓存某些数据, 如果你不希望缓存过期的话:

	Cache::forever('name', 'Taylor');

> **注意:** 如果你想要缓存对象的话, 你没必要序列化它们.

<a name="get"></a>
## 取出项

从缓存中取出项甚至比存入项更简单. 使用 **get** 方法即可完成工作, 只需要给出你想要取出的项的名称就行了:

	$name = Cache::get('name');

默认情况下, 如果缓存的项已经过期或者不存在的话将会返回 NULL, 然而你也可以传递一个不同的默认返回值作为方法的第二个参数:

	$name = Cache::get('name', 'Fred');

现在, 如果缓存中名为 "name" 的项已过期或者不存在, "Fred" 将会被返回. 

想在缓存中的项不存在的时候再从数据库中取出值? 解决方法很简单, 你可以传递一个闭包给 **get** 方法作为一个默认返回值, 而这个闭包只会在缓存的项不存在的时候才被执行.

	$users = Cache::get('count', function() {return DB::table('users')->count();});

让我们更进一步探讨, 假设你想要取出你的应用的注册人数; 然而, 如果这个值没有被缓存, 你想要使用 **remember** 方法储存默认值到缓存中去:

	$users = Cache::remember('count', function() {return DB::table('users')->count();}, 5);

我们来看看这个例子, 如果名为 **count** 的项存在于缓存中, 它的值会被返回. 如果它不存在, 闭包的结果将会被以5分钟的过期时间存入到缓存中去 **然后** 返回给方法, 一气呵成,不是吗?

Laravel 甚至为你准备了一种更简单的方法来检测缓存中是否存在指定项, 即使用 **has** 方法:

	if (Cache::has('name'))
	{
	     $name = Cache::get('name');
	}

<a name="forget"></a>
## 删除项

需要删除已缓存的项? 没问题, 只需要传递该项的名称给 **forget** 方法就行了:

	Cache::forget('name');